<!DOCTYPE html>
<html>
    <head></head>
    <body>
        <h1>Welcome to our coffeeshop</h1>
        <label for="numberOfCOffees">Order coffee cups</label>
        <input id="numberOfCoffees" />
        <button onclick="onBuyButtonClick()">Buy!</button>
        <div>
            Youe have spent: <p id="totalSpent"> </p> 
        </div>

        <script>
            class Customer {

                constructor() {
                    this.transactions = [] // [10, 100, 1000]
                    this.discountThreshold = 1000
                }
                addTransaction(amount) {
                    this.transactions.push(amount)
                }
                getTotalSpent() {
                    let sum = 0
                    this.transactions.forEach(transaction => {
                        sum += transaction

                    })
                    return sum
                }
                isEligableForDiscount() {
                    /* om totalt är större än discountThreshold returna True annars false */
                    return this.getTotalSpent() >= this.discountThreshold
                }
            }

            const customer = new Customer()

            function onBuyButtonClick() {
                const input = document.getElementById("numberOfCoffees")
                const pricePerCup = 50
                //consloe.log(input.value)
                const transactionValue = pricePerCup * input.value
                //console.log(transactionValue)
                customer.addTransaction(transactionValue)

                const totalSpentParagraph = document.getElementById("totalSpent")
                totalSpentParagraph.innerHTML = customer.getTotalSpent()
            }

        </script>
    </body>
</html>